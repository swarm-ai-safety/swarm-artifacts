# Hypothesis: Tax phase transition exhibits hysteresis
#
# Tests claim-tax-phase-transition-hysteresis-predicted-but-untested.
# Catastrophe theory predicts that once welfare collapses at 5-10% tax,
# reducing tax back below 5% will NOT immediately restore welfare.
#
# Design: Two-phase experiment.
#   Phase 1: Ramp tax from 0% → 15% (forward sweep)
#   Phase 2: Ramp tax from 15% → 0% (reverse sweep)
# Compare welfare at matching tax rates between phases.
# If hysteresis exists: welfare(reverse, 5%) < welfare(forward, 5%).
#
# Falsification: If welfare is identical in both directions at all
# tax rates, hysteresis is rejected and the transition is smooth.

scenario_id: hypothesis_tax_hysteresis
description: "Test whether tax phase transition exhibits fold-catastrophe hysteresis"
motif: "Hysteresis detection via forward-reverse tax sweep"
hypothesis: claim-tax-phase-transition-hysteresis-predicted-but-untested

agents:
  - type: honest
    count: 6
  - type: adversarial
    count: 2
  - type: opportunistic
    count: 2

governance:
  circuit_breaker_enabled: true
  freeze_threshold_toxicity: 0.6
  freeze_threshold_violations: 3
  freeze_duration_epochs: 3
  audit_enabled: true
  audit_probability: 0.10
  collusion_detection_enabled: false
  staking_enabled: false

network:
  topology: small_world
  params:
    k: 4
    p: 0.15
  dynamic: false

simulation:
  n_epochs: 30
  steps_per_epoch: 10

sweep:
  type: sequential_phase
  seeds: [42, 7, 123, 256, 999, 2024, 314, 577, 1337, 8080,
          11, 22, 33, 44, 55, 66, 77, 88, 99, 100,
          201, 202, 203, 204, 205, 206, 207, 208, 209, 210]
  phases:
    forward:
      parameter: governance.transaction_tax_rate
      values: [0.00, 0.02, 0.05, 0.07, 0.10, 0.12, 0.15]
      epochs_per_level: 30
    reverse:
      parameter: governance.transaction_tax_rate
      values: [0.15, 0.12, 0.10, 0.07, 0.05, 0.02, 0.00]
      epochs_per_level: 30

payoff:
  s_plus: 3.0
  s_minus: 1.5
  h: 3.0
  theta: 0.5
  w_rep: 2.5

analysis:
  primary_metric: mean_welfare
  comparison: paired_t_test_forward_vs_reverse_at_matching_rates
  correction: bonferroni
  expected_effect: "welfare(reverse) < welfare(forward) at 2-7% tax"
  falsification: "no significant difference at any matching rate"

success_criteria:
  min_seeds: 30
  significance_level: 0.05
